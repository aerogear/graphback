---
id: serverless
title: Serve GraphQL API without code
sidebar_label: Serverless
---

Graphback allows you to add GraphQL API without code generation.
Graphback package can be imported and used directly from your code or serverless handlers. 
Schema and resolvers can be created when your application code is executed and used to create instance of Apollo or GraphQL-js server

## Adding runtime layer to your application

To create GraphQL Layer at runtime developers need to initialize `GraphbackRuntime` instance as follows:

```ts

    import { GraphbackRuntime, ModelDefinition, PgKnexDBDataProvider } from 'graphback'
    import { PubSub } from 'graphql-subscriptions';

    const client = new Knex(...);
    const graphbackOptions = {...}
    const schemaText = `type Test ...`

    const pubSub = new PubSub();
    const serviceOverrides = {}
    const runtimeEngine = new GraphbackRuntime(schemaText, graphbackConfig);
    const runtime = runtimeEngine.buildRuntime(db, pubSub, {});

  const executableSchema = makeExecutableSchema({
    typeDefs: printSchema(runtime.schema),
    resolvers: runtime.resolvers,
    resolverValidationOptions: {
      requireResolversForResolveType: false
    }
  });
```

See [`./runtime.ts`](https://github.com/aerogear/graphback/blob/master/examples/runtime-example/src/runtime.ts#L32) for a fully functional example.

## Using different DataSource

Runtime is created using default CRUDService instance and KnexDBDataProvider db layer to retrieve the data. 
Developers can override implementations for those when different datasource is used. 

Currently 2 data providers are supported:

- KnexDBDataProvider
- PgKnexDBDataProvider

Your resolvers can use different data providers thanks to swapping implementation in resolver context

![](/img/runtime.png)

See [`runtime example application`](https://github.com/aerogear/graphback/tree/master/examples/runtime-example)
for more information.

## Adding custom resolvers to runtime

Runtime layer will come with autogenerated schema that will also include custom resolvers provided in model.
Developers can append their custom resolvers to resolver array to extend runtime layer.