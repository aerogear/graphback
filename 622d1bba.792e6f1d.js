(window.webpackJsonp=window.webpackJsonp||[]).push([[395],{1084:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return d}));var r=a(0),n=a.n(r);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=n.a.createContext({}),p=function(e){var t=n.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},h=function(e){var t=p(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),h=p(a),u=r,d=h["".concat(i,".").concat(u)]||h[u]||b[u]||o;return a?n.a.createElement(d,c(c({ref:t},l),{},{components:a})):n.a.createElement(d,c({ref:t},l))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<o;l++)i[l]=a[l];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},450:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return p}));var r=a(2),n=a(6),o=(a(0),a(1084)),i={title:"Improving the GraphQL experience with Graphback 0.14",author:"Manyanda Chitimbo",author_title:"Software Engineer",author_url:"https://github.com/machi1990",author_image_url:"https://avatars3.githubusercontent.com/u/10106536?s=460&u=ba1f66c0295c5151f147dd869a543bdc68671c56&v=4",tags:["graphql","graphback","graphqlcrud","graphql-js","nodejs","release"],image:"https://graphback.dev/img/logo.png"},c={permalink:"/blog/2020/07/22/new-graphback-release-0-14",source:"@site/blog/2020-07-22-new-graphback-release-0-14.md",description:"TL;DR:",date:"2020-07-22T00:00:00.000Z",tags:[{label:"graphql",permalink:"/blog/tags/graphql"},{label:"graphback",permalink:"/blog/tags/graphback"},{label:"graphqlcrud",permalink:"/blog/tags/graphqlcrud"},{label:"graphql-js",permalink:"/blog/tags/graphql-js"},{label:"nodejs",permalink:"/blog/tags/nodejs"},{label:"release",permalink:"/blog/tags/release"}],title:"Improving the GraphQL experience with Graphback 0.14",readingTime:6.74,truncated:!0},s=[{value:"TL;DR:",id:"tldr",children:[]},{value:"Introduction to Graphback",id:"introduction-to-graphback",children:[]},{value:"Notable Changes",id:"notable-changes",children:[{value:"Full Implementation of CRUD specification",id:"full-implementation-of-crud-specification",children:[]},{value:"New Runtime API",id:"new-runtime-api",children:[]},{value:"New packages",id:"new-packages",children:[]},{value:"Improved Documentation",id:"improved-documentation",children:[]}]},{value:"Migrating From 0.12",id:"migrating-from-012",children:[]},{value:"What&#39;s on the next release?",id:"whats-on-the-next-release",children:[]},{value:"How to get involved?",id:"how-to-get-involved",children:[]},{value:"Those who made the release possible",id:"those-who-made-the-release-possible",children:[]}],l={rightToc:s};function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"tldr"},"TL;DR:"),Object(o.b)("p",null,"Over the past couple of months, we have been working on improving Graphback. We are excited to announce that we have released Graphback 0.14.0, bringing a new and improved CRUD and runtime experience.\nMost notable changes in this release:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Full implementation of the CRUD API specification"),Object(o.b)("li",{parentName:"ul"},"Improved runtime API to remove complexity of setting up a Graphback API"),Object(o.b)("li",{parentName:"ul"},"RBAC Authorization on top of the Graphback Service and Keycloak")),Object(o.b)("p",null,"The complete changelog is available at ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/releases#0140"}),"https://graphback.dev/docs/releases#0140")),Object(o.b)("h2",{id:"introduction-to-graphback"},"Introduction to Graphback"),Object(o.b)("div",{style:{textAlign:"center",width:"400px",height:"400px",margin:"0 auto"}},Object(o.b)("p",null,Object(o.b)("img",Object(r.a)({parentName:"p"},{src:"https://graphback.dev/img/logo.png",alt:"Graphback logo"})))),Object(o.b)("p",null,"Graphback simplifies application development by generating a production-ready API from data models to access data from one or more data sources. Graphback uses ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphql.org"}),"GraphQL")," and follows ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphqlcrud.org/"}),"GraphQLCRUD")," specification to make it easy to get the data you need. Graphback follows the convention over configuration paradigm to reduce the amount of setup and boilerplate costs associated with creating GraphQL applications."),Object(o.b)("p",null,"With Graphback you can build and deploy a scalable data-driven GraphQL API, complete with real-time updates and data synchronization capabilities, using either a MongoDB or PostgreSQL database which is automatically created from your GraphQL schema. Graphback can be consumed as addition to your existing GraphQL project or even out of the box server (by using ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/graphqlserve/graphqlserve"}),"GraphQL-Serve cli"),")"),Object(o.b)("p",null,"Graphback offers various plugins that can modify schema or generate files like client-side GraphQL documents for your mobile or web app."),Object(o.b)("p",null,"If you want to try out Graphback, check out the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/getting-started/create-new-app"}),"getting started guide"),"."),Object(o.b)("p",null,"We have just released ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/releases#0140"}),"Graphback 0.14"),". It comes with the following changes."),Object(o.b)("h2",{id:"notable-changes"},"Notable Changes"),Object(o.b)("h3",{id:"full-implementation-of-crud-specification"},"Full Implementation of CRUD specification"),Object(o.b)("p",null,"Graphback provides an implementation of ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphqlcrud.org/"}),"GraphQLCRUD")," for a standardised CRUD API using common data access patterns. Providing a spec compliant implementation will enable Graphback to be interoperable with other GraphQL libraries. What this means for consumers is  flexibility and portability in choosing or changing a GraphQL CRUD provider. "),Object(o.b)("p",null,"Graphback generates a CRUD API for each model in your GraphQL schema. This gives you queries, mutations and subscriptions that can be instantly used to perform queries, filtering, pagination and mutations on your data."),Object(o.b)("p",null,"Additionally, we have made it easy to define custom queries, mutations and subscriptions that utilize the input types and filters created by Graphback. This approach let\u2019s you control the schema as you would when building it from scratch, while significantly reducing the amount of boilerplate required to set it up from your data."),Object(o.b)("h3",{id:"new-runtime-api"},"New Runtime API"),Object(o.b)("h4",{id:"building-crud-api"},"Building CRUD API"),Object(o.b)("p",null,"We have significantly refactored the runtime API to reduce overall complexity of configuring and using Graphback. Essentially we have cut out a multi-step approach to configuring a Graphback server and made it into a single function API to create the services, resolvers, datasources and schema."),Object(o.b)("p",null,"The new runtime API brings:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Ability to configure different data providers "),Object(o.b)("li",{parentName:"ul"},"Ability to configure services automatically e.g Authorization and subscriptions services, and  compose them."),Object(o.b)("li",{parentName:"ul"},"Ability to supply plugins, including custom ones without having to rely on external configuration file")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const { typeDefs, resolvers, contextCreator, services } = buildGraphbackAPI(schema, {\n  dataProviderCreator: createKnexDbProvider(dbConfig),\n  plugins: []\n});\n\nconst apolloServer = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context: contextCreator\n})\n")),Object(o.b)("h4",{id:"runtime-generation-of-resolvers--schema-in-server-side"},"Runtime generation of resolvers / schema in server side"),Object(o.b)("p",null,"In previous versions, Graphback would generate the schema and corresponding resolvers and leave it to the user to import them. This approach was erroneous since: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"If you forgot to run the generation command, the server will start with previous generated code, or crash. "),Object(o.b)("li",{parentName:"ul"},"The generated code was not heavily typed causing compilation and linting errors "),Object(o.b)("li",{parentName:"ul"},"The generated code was source of git conflicts"),Object(o.b)("li",{parentName:"ul"},"A cause of cognitive load as you still have to know which file was generated and have to manually load the resolvers and use it in your GraphQL server.")),Object(o.b)("p",null,"The overall experience was hard to work with especially in a development environment and a source of failures in production in case of an oversight to refresh the generated resolvers. "),Object(o.b)("p",null,"We are happy to announce that we have worked around all these issues to improve the overall experience by parsing the schema and creating resolvers during application startup."),Object(o.b)("h4",{id:"refined-annotations"},"Refined annotations"),Object(o.b)("p",null,"This release changes how annotations are specified in the GraphQL schema. The new annotation format closely resembles the syntax of native directives that the GraphQL community is familiar with. For example a one to one relationship is now declared as follows"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-graphql"}),'"""\n@oneToOne(key: \'user_id\')\n"""\n')),Object(o.b)("p",null,"Instead of the previous version"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-graphql"}),'"""\n@oneToOne key: \'user_id\'\n"""\n')),Object(o.b)("p",null,"We think that this syntax based on our upstream ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.npmjs.com/package/graphql-metadata"}),"graphql-metadata")," library is less error prone and its familiarity will lower the learning curve for most of our annotations."),Object(o.b)("h4",{id:"create-dynamic-resolvers-for-your-models-using-plugin-api"},"Create dynamic resolvers for your models using plugin API"),Object(o.b)("p",null,"In ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/releases/#0120"}),"0.12.0")," we introduced a flexible plugin architecture enabling plugin developers to be able to transform the GraphQL schema. In this release we have addressed the requests from the community and made some changes to the plugin engine to allow ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/aerogear/graphback/pull/1455"}),"creation of resolvers")," (separate from the schema). Resolvers created in this way, will be merged into a resolver object that\u2019s exposed by the Graphback API making it easier for users to integrate them. Visit the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/plugins/create#createresolvers"}),"create your plugin page")," to learn more. "),Object(o.b)("h3",{id:"new-packages"},"New packages"),Object(o.b)("p",null,"Within this release, we have added three new packages:"),Object(o.b)("h4",{id:"keycloak-authz"},Object(o.b)("a",Object(r.a)({parentName:"h4"},{href:"https://graphback.dev/docs/authentication/keycloak"}),"Keycloak-authz")),Object(o.b)("p",null,"RBAC Authorization on top of the Graphback Service layer declarative code and schema driven RBAC for Graphback. The package is built on top of ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.npmjs.com/package/keycloak-connect"}),"keycloak-connect")," and ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.npmjs.com/package/keycloak-connect-graphql"}),"keycloak-connect-graphql")," thus giving deeper ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.keycloak.org/"}),"Keycloak")," integration in your GraphQL applications. This enables you to declaratively add authorization capabilities like role based access on top of the CRUD model that is used within Graphback. "),Object(o.b)("p",null,"This package is still in preview and under active development and your feedback is highly welcomed."),Object(o.b)("h4",{id:"data-synchronization"},Object(o.b)("a",Object(r.a)({parentName:"h4"},{href:"https://graphback.dev/docs/datasync/intro"}),"Data Synchronization")),Object(o.b)("p",null,"This package contains a plugin as well as compatible data sources for implementing Data Synchronisation using Graphback. The package provides an API to:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Fetch data that was changed based on the client side timestamp"),Object(o.b)("li",{parentName:"ul"},"Ensure data consistency using timestamp provided")),Object(o.b)("p",null,"It achieves this by:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Providing Delta Queries that can be used by GraphQL clients to refresh changes in data between periods of connectivity outages. "),Object(o.b)("li",{parentName:"ul"},"Providing server-side Conflict Resolution capabilities")),Object(o.b)("p",null,"Currently, the datasync package only supports the Mongo data sources with support for other data sources planned in the future release. This package is still in preview and under active development and your feedback is highly welcomed."),Object(o.b)("h4",{id:"create-graphback"},Object(o.b)("a",Object(r.a)({parentName:"h4"},{href:"https://graphback.dev/docs/cli/create-graphback"}),"create-graphback")),Object(o.b)("p",null,"This package provides a small command line utility that can be used to quickly create production ready Graphback projects. The tool integrates well with the Node.js ecosystem: npx, npm etc"),Object(o.b)("h3",{id:"improved-documentation"},"Improved Documentation"),Object(o.b)("p",null,"There have been a number of major changes between 0.12.x and 0.14. The documentation and website also underwent major restructuring to adapt to the significant changes in Graphback. We took this chance to simplify and focus the documentation to make it the best experience possible for users."),Object(o.b)("h2",{id:"migrating-from-012"},"Migrating From 0.12"),Object(o.b)("p",null,"We have tried to make the migration path as smooth as possible by documenting all the major and breaking changes in the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://graphback.dev/docs/releases#0140"}),"release notes"),". We are hoping this to be sufficient, but we concede that some things might be missing and we are more than happy to help out in this migration: reach to us via ","[chat][(https://github.com/aerogear/graphback]","(",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://discord.com/invite/mJ7j84m"}),"https://discord.com/invite/mJ7j84m"),")) or by ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/aerogear/graphback/issues/new"}),"opening a Github issue"),"."),Object(o.b)("h2",{id:"whats-on-the-next-release"},"What's on the next release?"),Object(o.b)("p",null,"The next release is 0.15. This will be a stable 1.0.0 beta release and the list of issues that will focus on addressing the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/aerogear/graphback/issues?q=is%3Aopen+is%3Aissue+milestone%3Agraphback%400.15.0"}),"0.15 milestone"),"."),Object(o.b)("p",null,"If there is something that you would like to see in this release, ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/aerogear/graphback/issues/new"}),"open an issue")," and we can prioritize it. "),Object(o.b)("h2",{id:"how-to-get-involved"},"How to get involved?"),Object(o.b)("p",null,"We love our community and are strongly tied to it. You can get involved with us using: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/aerogear/graphback"}),"Graphback Project on GitHub")," "),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://discord.com/invite/mJ7j84m"}),"Discord")," ")),Object(o.b)("h2",{id:"those-who-made-the-release-possible"},"Those who made the release possible"),Object(o.b)("p",null,"We are really happy to have reached this milestone but it would not have been possible without the amazing work from the community:\n",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/craicoverflow"}),"@craicoverflow"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/darahayes"}),"@darahayes"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/Eunovo"}),"@Eunovo"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/joaedwar"}),"@joaedwar"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/kingsleyzissou"}),"@kingsleyzissou"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/lastmjs"}),"@lastmjs"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/machi1990"}),"@machi1990"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/martinhesko"}),"@martinhesko"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/ssd71"}),"@ssd71"),", ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/wtrocki"}),"@wtrocki")),Object(o.b)("p",null,"Thank you!!"))}p.isMDXComponent=!0}}]);